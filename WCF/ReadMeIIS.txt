****************************************************************************

                      Алгоритм размещения службы в IIS.

****************************************************************************

Создать папку ServiceIIS

В папке ServiceIIS - Создать папку ProjectIIS

В папке ProjectIIS создать папку bin

В папке ProjectIIS создать файл MyService.svc

Запустить MS Visual Studio. 

Перейти: File - Open - WebSite 
В диалоге выбора проекта, в качестве папки Web-проекта указать созданную папку - ProjectIIS. 
Нажать (ОК!)

----------------------------------------------------------------------------

В результате откроется проект, и в Solution Explorer отобразятся:
- папка bin
- файл MyService.svc
- и файл Web.config, который студия сгенерировала автоматически при открытии проекта.


Сохранить проект (Ctrl+S) - студия предложит выбрать путь для сохранения файла решения ProjectIIS.sln
В качестве папки хранения выбирать папку - ServiceIIS.

----------------------------------------------------------------------------

Создать новый проект ClassLibrary в текущем солюшенсе с именем ServiceLibrary.

В данном проекте создать контракт и сервис с именем MyService.

Построить (Build) проект ClassLibrary через - F6

----------------------------------------------------------------------------

Копировать файл .dll Например:
ИЗ: D:\ServiceIIS\ServiceLibrary\bin\Debug
В:  D:\ServiceIIS\ProjectIIS\bin

----------------------------------------------------------------------------

Открыть MyService.svc и записать в него строку:
<%@ServiceHost Service="ServiceLibrary.MyService"%>

----------------------------------------------------------------------------

Открыть Web.config и добавляем в него секцию <system.serviceModel> 
после секции </configSections>:

<system.serviceModel>
    <services>
      <service name="ServiceLibrary.MyService" behaviorConfiguration="MEXServiceTypeBehavior">
        <endpoint address="" binding="basicHttpBinding" contract="ServiceLibrary.IContract"/>
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="MEXServiceTypeBehavior">
          <serviceMetadata httpGetEnabled="true"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>

-----------------------------------------------------------------------------

Запустить Диспетчер служб IIS.

Добавить Виртуальный каталог, присвоив ему имя, например, My, 
в пути выбора указываем папку с проектом сервиса - ProjectIIS

Преобразовать виртуальный каталог в приложение 
(правой кнопкой по каталогу и выбрать команду - преобразовать в приложение.)

-----------------------------------------------------------------------------

ПРОВЕРКА: 

Открыть Web-браузер IE, в строке адреса указать путь к сервису (Enter)
Например: http://localhost/My/MyService.svc

Должна отобразиться страница описания сервиса.

-----------------------------------------------------------------------------


Создать клиент, и обратиться с запросом к созданному сервису.


-----------------------------------------------------------------------------





